План разработки игры в стиле RogueLike. Для реализации задуманного проекта надо сделать следующие задачи почти в свободном порядке. [[Архитектура проекта]]

### Главное меню
1. Старт игры [[Main Menu]] - Создание персонажа [[Выбор персонажа]] с возможностью выбирать из нескольких классов и визуальный редактор персонажа. Так же происходит запись и сохранение персонажа через [[Система сохранений]]. Создать скрипты отвечающие за интернет соединение с сервером [[Игровой сервер]].  Реализовать [[Синглтон]] классы начиная с Boostap-класса [[GameManager]]
2. Настройки звука [[Работа с аудио]], нужны звуки для темы меню, спокойный игры и звук преследования, звук смерти. 
3. Определить основной игровой механизм [[Основной игровой механизм]]
4. Создать дизайны и анимации [[Дизайн]]
5. Создать [[План сцены для 2D RogueLike игры]]
6. Игровая логика 
7. Карта и пространство игры 
8. Персонаж
9. Интерфейс персонажа 



#### 21.11.24
Добавил меню загрузок сохранений 
Теперь отображаются имена сохраненных пользователей и онм хранятся в формате json в папке системы, надо настроить визуальную составляющую и файлы - данные которые сохраняются, что бы это было не только имя, но и все состояние игры 

Изменения были в Скриптах [[SaveLoadManager]] 
Добавил скрипт [[SaveLoadMenu]] с реализацией GUI интерфейса 
Скрипт [[GameData]] является тестовым для проверки, но в будущем можно сделать отдельным игровым скриптом для сохранения данных 
В методе *Create()* в [[Main Menu]] добавил строку для сохранения в формате *.json*

Цель:
1. Визуальное отображение данных сохранения
2. Переход при выборе сохранения к следующей сцене
3.  Возможность удаления сохранения
4. Изменение загрузки данных пользователя при заходе в игру в методе [[GameManager]]
5. Настройка отдельного скрипта использующегося как сбор данных для сохранения 
6. Сделать запись даты сохранения и сортировать их по дате


#### 22.11.24
Реализую метод [[Delete Saved File]]

Глобально переделал обращение к классу User - постарался сделать во всех классах обращение через Instance 
Добавил методы отвечающие за выбор и удаление сохраненых файлов в формате .json
Теперь при загрузке через Меню - выбирает нужное имя, НО было обнаружено и без того большое количество багов и не доработок, выписал их в заметки

Правки:
1. Изменить отображение картинок звука с двух объектов на массив спрайтов
2. Неправильная подгрузка элементов при перезапуске сцены - выдает ошибки с взаимодействии с объектами управления, отображения и я их не понимаю
3. Не меняет имя после изменения в меню загрузки
4. Проще говоря - не правильно работает вся подгрузочная часть когда игра уже работает

Из целей остались следующие
Цель:
1. Визуальное отображение данных сохранения
2. Изменение загрузки данных пользователя при заходе в игру в методе [[GameManager]] ии полная его настройка с подключением и других классов менеджеров
3. Настройка отдельного скрипта использующегося как сбор данных для сохранения 
4. Сделать запись даты сохранения и сортировать их по дате

#### 23.11.24
Реализация скрипта Boostap-класса [[GameManager]] - необходимо написать скрипт который отвечает за работу *GameManager*, так же проверить почему класс *User* не загружается в GameManager и отображается как Пустота, хотя сам объект присутствует
*При всем при этом, если обращатся на прямую к классу User.Instance - то он откликается, и признает его имя после загрузки.
Пришлось изменить в классе SaveManager метод Start() на Awake() и добавить туда User.Instance=LoadLastGame() и заменить все обращения к User через класс GameManager на обращение к User.Instance во всех других частях кода и скриптах
В данной ситуации код работал верно* 

Добавил скрипт [[GameManager]]

Цель:
1. Визуальное отображение данных сохранения +
2. Изменение методов загрузки и сохранения в меню паузы [[PauseMenu]] +
3. Изменение загрузки данных пользователя при заходе в игру в методе [[GameManager]] и полная его настройка с подключением и других классов менеджеров через метод Boostap-класса +
4. Проверка подключения Менеджеров к GameManager +
5. Настройка обновления информации об игроке, при загрузке другого игрока, сделать скрипт\метод который будет отвечать за обновление всех выведенных данных пользователя при запуске и изменении их при загрузке нового [[SaveLoadRefresh()]] 
6. Добавить в настройки - скрипт\метод, который будет отвечать за выход пользователя, что бы обнулить User/Instance и не был введен пользователь
7. Настройка отдельного скрипта использующегося как сбор данных для сохранения [[GameData]]
8. Сделать запись даты сохранения и сортировать их по дате


#### 25.11.24
[[Разработка 25.11]] - составили правки, надо будет выполнить 


#### 27.11.24
Визуальное отображение данных сохранения в меню загрузки - решил оставить просто текстом (но лучше сделать возможность выбора и подсветки)
Сделал отображение подсветкой текста при выборе [[Подсветка текста при выборе для визуального отображения]]
Настроил часть менеджера [[GameManager]], появилась возможность поиска необходимых элементов сцены и добавил *SceneManagerHelper* для использования его статического метода проверки статуса сцены.
Добавим функционал системы сохранения тайловых карт, для возможности загружать уровни без смены сцен [[Система сохранения и загрузки тайловых карт]] -> ДОМОЙ ПРИШЕЛ-ДОДЕЛАЙ!!!

Добавил скрипты отвечающие за функционал загрузки и сохранение статуса карты. Сохранение данных игрока и противников на карта при вызове метода. 
Данным алгоритмом можно реализовать поиск и сохранение позиций противников и запись их в основые сохранения в секторе карты
Надо доделывать и реализовать в самой игре, НЕОБХОДИМО создать и добавить функционал сохранения самой карты и ее загрузки при переходе между элементами
**
Добавил функционал выбор персонажа в момент создания персонажа [[Создание интерфейса для выбора героя]]
**


Цель:
1. Настроить смену данных и их отображение при загрузке (кнопка LOAD) ничего не загружает в сцену игры
2. Настроить сброс сцены игры при смене пользователя 
3. Продолжить настройку *GameManager*
4. Настройка обновления информации об игроке, при загрузке другого игрока, сделать скрипт\метод который будет отвечать за обновление всех выведенных данных пользователя при запуске и изменении их при загрузке нового [[SaveLoadRefresh()]] 
5. . Добавить в настройки - скрипт\метод, который будет отвечать за выход пользователя, что бы обнулить User/Instance и не был введен пользователь
6. Настройка отдельного скрипта использующегося как сбор данных для сохранения [[GameData]] и добавить функцию записи времени
7. [[Система сохранения и загрузки тайловых карт]] ДОДЕЛАТЬ
8.  Надо доделывать и реализовать в самой игре, НЕОБХОДИМО создать и добавить функционал сохранения самой карты и ее загрузки при переходе между элементами
9. Создать хранилище для самих карт возможно в *.JSON*
10. Обновить заметку с [[План Заметок]]
11. Написать [[Экономическая модель игры]] 

#### 28.11.24
Создал префабы объектов на сцене, что бы были элементы не тайлами ,а спрайтами с возможностью столкновения и обхода их
Добавил скрипт на сундук и дверь ,который будет ответственен за открытие и закрытие и смену спрайтов (пока туда ничего не написал, сделал только массив спратов)
Сделал основную карту - префабом MAP_1 и добавил префаб карту TAVERNA
Сделал освещение не от верхнего источника света, а от персонажа 
[[Освещение и переключение освещения]]
Накачал много новых спрайт моделек - подготовить из них объекты и расфасовать по папкам необходимое для проекта 

Создание редактора карт [[Редактор карты]]

Цель:
1. Настроить смену данных и их отображение при загрузке (кнопка LOAD) ничего не загружает в сцену игры
2. СДЕЛАТЬ ИСТОЧНИКИ СВЕТА НА СЦЕНЕ +
3. Настроить сброс сцены игры при смене пользователя 
4. Продолжить настройку *GameManager*
5. Настройка обновления информации об игроке, при загрузке другого игрока, сделать скрипт\метод который будет отвечать за обновление всех выведенных данных пользователя при запуске и изменении их при загрузке нового [[SaveLoadRefresh()]] 
6. . Добавить в настройки - скрипт\метод, который будет отвечать за выход пользователя, что бы обнулить User/Instance и не был введен пользователь
7. Настройка отдельного скрипта использующегося как сбор данных для сохранения [[GameData]] и добавить функцию записи времени
8. [[Система сохранения и загрузки тайловых карт]] ДОДЕЛАТЬ
9.  Надо доделывать и реализовать в самой игре, НЕОБХОДИМО создать и добавить функционал сохранения самой карты и ее загрузки при переходе между элементами
10. Создать хранилище для самих карт возможно в *.JSON*
11. Обновить заметку с [[План Заметок]]
12. Написать [[Экономическая модель игры]] 

#### 29.11.24
Добавил источники света на сцене в виде Обелисков и свет от самого персонажа 
Добавил свет от сундуков 
Закинул в проект новые спрайты.

Цель:
1. Настроить смену данных и их отображение при загрузке (кнопка LOAD) ничего не загружает в сцену игры
<font color="#ffff00">2. СДЕЛАТЬ ИНВЕНТАРЬ ПЕРСОНАЖА!!!</font>
<font color="#ffff00">3. ИЗМЕНИТЬ МОДЕЛЬКУ ПЕРСОНАЖА И СКЕЛЕТА (анимации, атака магией от персонажа)</font>
4. Настроить сброс сцены игры при смене пользователя 
5. Продолжить настройку *GameManager*
6. Настройка обновления информации об игроке, при загрузке другого игрока, сделать скрипт\метод который будет отвечать за обновление всех выведенных данных пользователя при запуске и изменении их при загрузке нового [[SaveLoadRefresh()]] 
7.  Добавить в настройки - скрипт\метод, который будет отвечать за выход пользователя, что бы обнулить User/Instance и не был введен пользователь
8. Настройка отдельного скрипта использующегося как сбор данных для сохранения [[GameData]] и добавить функцию записи времени
9. [[Система сохранения и загрузки тайловых карт]] ДОДЕЛАТЬ
10.  Надо доделывать и реализовать в самой игре, НЕОБХОДИМО создать и добавить функционал сохранения самой карты и ее загрузки при переходе между элементами
11. Создать хранилище для самих карт возможно в *.JSON*
12. Обновить заметку с [[План Заметок]]
13. Написать [[Экономическая модель игры]] 

#### 1.12.24
Изменил скрипт *PauseMenu*, сделал окно меню паузы префабом и теперь оно загружается по просьбе пользователя и удаляется, <font color="#ffff00">НО ПОЧЕМУ ТО НЕ РАБОТАЕТ МЕТОД *RESUME()*!!!</font>++
Добавил заметку [[Динамическая загрузка и удаление UI окон]]
Сделал методы общими для всех GUI-элементов в сцене игры и все заработало. <font color="#92d050">Теперь можно будет вызывать и другие окна префабы из GUIManager</font>
*Таким же методом надо будет настроить MainManu окна до 9.12.24*
Добавил в проект игры три новых скрипта
*Item, Inventory, InventoryUI* - буду их заполнять
Класс *Item* - ответственен за свойства предметов
Скрипт *Inventory* - логика инвентаря
Скрипт *InventoryUI* - отображение инвентаря
[[Инвентарь]] - добавил код, осталось его использовать в среде Unity

*Скрипт сохранения состояния инвентаря у персонажа*

Цель:
1. Настроить смену данных и их отображение при загрузке (кнопка LOAD) ничего не загружает в сцену игры
2.  Настроить сброс сцены игры при смене пользователя 
3. Продолжить настройку *GameManager*
4. Настройка обновления информации об игроке, при загрузке другого игрока, сделать скрипт\метод который будет отвечать за обновление всех выведенных данных пользователя при запуске и изменении их при загрузке нового [[SaveLoadRefresh()]] 
5.  Добавить в настройки - скрипт\метод, который будет отвечать за выход пользователя, что бы обнулить User/Instance и не был введен пользователь
6. Настройка отдельного скрипта использующегося как сбор данных для сохранения [[GameData]] и добавить функцию записи времени
7. [[Система сохранения и загрузки тайловых карт]] ДОДЕЛАТЬ 
8.  Надо доделывать и реализовать в самой игре, НЕОБХОДИМО создать и добавить функционал сохранения самой карты и ее загрузки при переходе между элементами 
9. Создать хранилище для самих карт возможно в *.JSON* 
10. Обновить заметку с [[План Заметок]]
11. Написать [[Экономическая модель игры]] 

#### 2.12.24
Продолжаем реализовать Инвентарь - пока как заглушку с полями для элементов 
Сделал InventoryUI - отображени и закрытие инвенторя происходит в скрипте GUI_Manager/
Открывается на 6х6 ячеек, окно InventoryUI - существует как префаб и загружается отдельным объектом из файлов игры, а не прямо из сцены
Начал писать методы для итемов - для хранения их в инвентаре
[[Items]]
Добавил несколько новых спрайтов для предметов и возможность реализации подбора предмета
Новый скрипт прикрепляется ко всем префабам предметов, которые герой должен будет способен подбирать 
Добавил метод обновления инвентаря в InventoryUI и немного переработал класс Item 
Переход между картами [[Переход между картами]]
Сделал возможность загрузки карт из префабов, а не объектов игры. 
Теперь персонаж может телепортироваться между карт, но пока только на одну и ту же точку в карте.
Каждая дверь будет способна переходить к разным картам, но указываем их по индексу (можно запутаться, возможно проще реализовать подключение замих префабов к каждой двери отдельно, без одного сплошного MapManager) На данный момент переход между комнат возможен, но надо его дорабатывать 

<font color="#ffff00">Сделать корутину, что предмет поднимался только в одном экземплчре</font>
<font color="#ffff00">Настроить появление противников на карте при загрузке</font>

Цели теперь пишу прямо на ГИТЕ в ISSUES

#### 3.12.24
Сделал кнопки и методы для открытия таких пунктов игрового меню как 
*Характеристики, Настройки, Награды* по типу открытия инвентаря 
Написал новый Task на ГитХабе, что должно быть в каждом из окон


#### 4.12.24
Сделал метод загрузки и отображения характеристик персонажа. 
Скрипт PlayerStats отвечает за хранение данных о характеристиках персонажа и первом создании.
В скрипте MainMenu - добавил метод создания характеристик, что бы после создания персонажа ему были присвоены все необходимые параметры (пока без возможности настройки характеристик, только по умолчанию) 
В метод GameData - добавил поле для хранения данных о классе playerStats
В класс Player - добавил ссылку на статистику персонажа и метод для его установки от User.Instance
В скрпте User - добавил поле для хранения информации о playerStats
И добавил класс - реализующий отображение характеристик - PlayerCharacteristicsWindow
[[Характеристики персонажа]]
Сделал наследуемый класс - [[OptionsVolumeController]] - для создания опции меню - настройки звука внутри игрового процесса в HUD Опции
Добавил методы для обработки звуков от самого персонажа, а не только игрового окружения
Сделаем меню с [[Меню Достижений]]
Написал методы для отображения ачивок и сохранения их
Скрипт AchievementsMenuUI - отвечает за отображение достижений  и наград
Скрипт PlayerAchievements - отвечает за хранение самих наград и достижений
В скриптах Player, User и MainMenu - добавил методы и поля, для отображения и хранения данных об ачивках нашего игрока

Сделаем возможность, что бы из сундука выпадали предметы (пока определенные)
[[Выпадение предметов из сундука]]
Добавил событие для кнопки "E" - событие открытия
В данном случаем буду использовать для открытия сундуков
Добавил скрипт TreasureChest - отвечающий за хранение в сундуке и логику выпадание предмета
Начал работу над скриптом отвечающим за анимацию открытия сундука

[[Наследование]] - наследовать от класса *Enemy* и сделать класс *Window*


Цель:

Согласовать характеристики с другими методами персонажа, что бы его урон, мана, макс здоровье и все прочее устанавливалось от метода PlayerStats

Необходимо настроить согласованность в Меню и игре, и отображение слайдеров сразу на уровне громкости где они находятся.
Так же необходимо перенести кнопку Выключения звука в соответствующее меню